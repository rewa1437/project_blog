{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/anupappasakornhiran/Desktop/project_blog/app/components/Navbar.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\n\nexport default function Navbar() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      const parsedUser = JSON.parse(storedUser);\n      setUser(parsedUser); \n\n      const fetchUserInfo = async () => {\n        try {\n          const userResponse = await fetch(`http://127.0.0.1:8000/get_user/?user_id=${parsedUser.user_id}`);\n          const userInfo = await userResponse.json();\n\n          const completeUserData = { ...parsedUser, ...userInfo };\n          console.log(completeUserData);\n          setUser(completeUserData);\n          setLoading(false);\n        } catch (error) {\n          console.error('Error fetching user info:', error);\n          setLoading(false);\n        }\n      };\n\n      fetchUserInfo();\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setUser(null);\n    window.location.reload();\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-gray-100\">\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  const rankClass = user?.rank === 1 ? 'bg-gray-500' :\n                    user?.rank === 2 ? 'bg-blue-500' :\n                    user?.rank === 3 ? 'bg-green-500' :\n                    user?.rank === 4 ? 'bg-yellow-500' :\n                    'bg-gray-500';\n\n  return (\n    <nav className=\"bg-gray-800 text-white p-4 shadow-md\">\n      <div className=\"max-w-7xl mx-auto flex justify-between items-center space-x-6\">\n        <div className=\"font-bold text-xl\">MicroFinance</div>\n\n        <div className=\"flex items-center space-x-4\">\n          <Link href=\"/\">\n            <span className=\"cursor-pointer\">Home</span>\n          </Link>\n\n          <Link href=\"/blog\">\n            <span className=\"cursor-pointer\">Blog</span>\n          </Link>\n\n          <Link href=\"/donate_us\">\n            <span className=\"cursor-pointer\">Donate</span>\n          </Link>\n\n          {user ? (\n            <div className=\"flex items-center\">\n              <Link href=\"/profile\">\n                <div className={`${rankClass} text-white p-2 rounded-md cursor-pointer hover:scale-101 transition-all`}>\n                  {user.username}\n                </div>\n              </Link>\n              <button\n                className=\"ml-4 bg-red-600 text-white px-4 py-2 rounded-md hover:scale-101\"\n                onClick={handleLogout}\n              >\n                Logout\n              </button>\n            </div>\n          ) : (\n            <Link href=\"/logins\">\n              <button className=\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-500\">\n                Login\n              </button>\n            </Link>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,YAAY;YACd,MAAM,aAAa,KAAK,KAAK,CAAC;YAC9B,QAAQ;YAER,MAAM,gBAAgB;gBACpB,IAAI;oBACF,MAAM,eAAe,MAAM,MAAM,CAAC,wCAAwC,EAAE,WAAW,OAAO,EAAE;oBAChG,MAAM,WAAW,MAAM,aAAa,IAAI;oBAExC,MAAM,mBAAmB;wBAAE,GAAG,UAAU;wBAAE,GAAG,QAAQ;oBAAC;oBACtD,QAAQ,GAAG,CAAC;oBACZ,QAAQ;oBACR,WAAW;gBACb,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,6BAA6B;oBAC3C,WAAW;gBACb;YACF;YAEA;QACF,OAAO;YACL,WAAW;QACb;IACF,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,OAAO,QAAQ,CAAC,MAAM;IACxB;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,MAAM,YAAY,MAAM,SAAS,IAAI,gBACnB,MAAM,SAAS,IAAI,gBACnB,MAAM,SAAS,IAAI,iBACnB,MAAM,SAAS,IAAI,kBACnB;IAElB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BAAoB;;;;;;8BAEnC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,8OAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;sCAGnC,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,8OAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;sCAGnC,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,8OAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;wBAGlC,qBACC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;8CACT,cAAA,8OAAC;wCAAI,WAAW,GAAG,UAAU,wEAAwE,CAAC;kDACnG,KAAK,QAAQ;;;;;;;;;;;8CAGlB,8OAAC;oCACC,WAAU;oCACV,SAAS;8CACV;;;;;;;;;;;iDAKH,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,8OAAC;gCAAO,WAAU;0CAAgE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAShG","debugId":null}}]
}