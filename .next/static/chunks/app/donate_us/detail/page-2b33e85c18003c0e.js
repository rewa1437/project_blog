(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15],{17802:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i});var t=s(95155),n=s(12115),c=s(24055),l=s(6874),a=s.n(l);function i(){let[e,r]=(0,n.useState)(null),[s,l]=(0,n.useState)(null),[i,o]=(0,n.useState)(null);if((0,n.useEffect)(()=>{let e=localStorage.getItem("selectedProductId");e&&(async()=>{try{let s=await fetch("".concat("https://microfinance-backend-763l.onrender.com","/get_product_details/").concat(e,"/")),t=await s.json();if(t.id)r(t);else throw Error("Product not found")}catch(e){o(e.message)}})()},[]),(0,n.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("user")),r=null==e?void 0:e.user_id;r&&(async()=>{try{let e=await fetch("https://microfinance-backend-763l.onrender.com/get_user/?user_id=".concat(r)),s=await e.json();l({user_id:r,...s})}catch(e){console.error("Error fetching user info:",e)}})()},[]),i)return(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,t.jsx)("p",{children:i})});if(!e||!s)return(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,t.jsx)("p",{children:"Loading..."})});let d=1===e.product_rank?"ผู้สนับสนุนระดับนักผจญภัย ได้รับพื้นหลังโปรไฟล์เป็นสีเทา":2===e.product_rank?"ผู้สนับสนุนระดับจอมยุทธ ได้รับพื้นหลังโปรไฟล์เป็นสีฟ้า":3===e.product_rank?"ผู้สนับสนุนระดับวีรบุรุษ ได้รับพื้นหลังโปรไฟล์เป็นสีเขียว":4===e.product_rank?"ผู้สนับสนุนระดับตำนาน ได้รับพื้นหลังโปรไฟล์เป็นสีเหลือง":"ผู้สนับสนุนระดับนักผจญภัย ได้รับพื้นหลังโปรไฟล์เป็นสีเทา";return(0,t.jsxs)("div",{className:"h-auto",children:[(0,t.jsx)(c.default,{}),(0,t.jsxs)("div",{className:"p-8 items-center justify-center text-center",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-center",children:"Donation detail"}),(0,t.jsxs)("div",{className:"mt-8 flex gap-x-8 items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"w-3/10"}),(0,t.jsxs)("div",{className:"w-4/10 p-6",children:[(0,t.jsxs)("h3",{className:"text-2xl font-semibold",children:["ชื่อสินค้า: ",e.product_name]}),(0,t.jsx)("br",{}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"ราคา:"})," ",e.product_price," ฿"]}),(0,t.jsx)("br",{}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"รายละเอียดสินค้า:"})," ",e.product_description]}),(0,t.jsx)("br",{}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"ระดับผู้สนับสนุน:"})," ",d]})]}),(0,t.jsx)("div",{className:"w-3/10"})]}),(0,t.jsx)(a(),{href:"../donate_us/checkout",children:(0,t.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-500",children:"Next"})})]}),(0,t.jsx)("footer",{className:"text-center p-4 mt-8 text-gray-500 text-sm",children:"\xa9 2025, Microfinance"})]})}},24055:(e,r,s)=>{"use strict";s.d(r,{default:()=>a});var t=s(95155),n=s(12115),c=s(6874),l=s.n(c);function a(){let[e,r]=(0,n.useState)(null),[s,c]=(0,n.useState)(!0),[a,i]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{let e=localStorage.getItem("user");if(e){let s=JSON.parse(e);r(s),(async()=>{try{let e=await fetch("".concat("https://microfinance-backend-763l.onrender.com","/get_user/?user_id=").concat(s.user_id)),t=await e.json(),n={...s,...t};r(n),i(!0),c(!1)}catch(e){console.error("Error fetching user info:",e),c(!1)}})()}else c(!1)},[]),s)return(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,t.jsx)("p",{children:"Loading..."})});let o=(null==e?void 0:e.rank)===1?"bg-gray-500":(null==e?void 0:e.rank)===2?"bg-blue-500":(null==e?void 0:e.rank)===3?"bg-green-500":(null==e?void 0:e.rank)===4?"bg-yellow-500":"bg-gray-500";return(0,t.jsx)("nav",{className:"bg-gray-800 text-white p-4 shadow-md",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center space-x-6",children:[(0,t.jsx)("div",{className:"font-bold text-xl",children:"MicroFinance"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(l(),{href:"/",children:(0,t.jsx)("span",{className:"cursor-pointer",children:"Home"})}),(0,t.jsx)(l(),{href:"/blog",children:(0,t.jsx)("span",{className:"cursor-pointer",children:"Blog"})}),a?(0,t.jsx)(l(),{href:"/donate_us",children:(0,t.jsx)("span",{className:"cursor-pointer",children:"Donate"})}):(0,t.jsx)(l(),{href:"#",children:(0,t.jsx)("span",{className:"cursor-pointer",onClick:()=>{alert("กรุณาล็อคอินก่อนเข้าสู่หน้าสนับสนุน")},children:"Donate"})}),e?(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(l(),{href:"/profile",children:(0,t.jsx)("div",{className:"".concat(o," text-white p-2 rounded-md cursor-pointer hover:scale-101 transition-all"),children:e.username})}),(0,t.jsx)(l(),{href:"/",children:(0,t.jsx)("button",{className:"ml-4 bg-red-600 text-white px-4 py-2 rounded-md hover:scale-101",onClick:()=>{localStorage.removeItem("user"),r(null)},children:"Logout"})})]}):(0,t.jsx)(l(),{href:"/logins",children:(0,t.jsx)("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-500",children:"Login"})})]})]})})}},88810:(e,r,s)=>{Promise.resolve().then(s.bind(s,17802))}},e=>{var r=r=>e(e.s=r);e.O(0,[874,441,684,358],()=>r(88810)),_N_E=e.O()}]);