(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{19783:(e,t,s)=>{Promise.resolve().then(s.bind(s,61400))},24055:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var a=s(95155),r=s(12115),l=s(6874),n=s.n(l);function c(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0),[c,i]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{let e=localStorage.getItem("user");if(e){let s=JSON.parse(e);t(s),(async()=>{try{let e=await fetch("".concat("https://microfinance-backend-763l.onrender.com","/get_user/?user_id=").concat(s.user_id)),a=await e.json(),r={...s,...a};t(r),i(!0),l(!1)}catch(e){console.error("Error fetching user info:",e),l(!1)}})()}else l(!1)},[]),s)return(0,a.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,a.jsx)("p",{children:"Loading..."})});let o=(null==e?void 0:e.rank)===1?"bg-gray-500":(null==e?void 0:e.rank)===2?"bg-blue-500":(null==e?void 0:e.rank)===3?"bg-green-500":(null==e?void 0:e.rank)===4?"bg-yellow-500":"bg-gray-500";return(0,a.jsx)("nav",{className:"bg-gray-800 text-white p-4 shadow-md",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center space-x-6",children:[(0,a.jsx)("div",{className:"font-bold text-xl",children:"MicroFinance"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(n(),{href:"/",children:(0,a.jsx)("span",{className:"cursor-pointer",children:"Home"})}),(0,a.jsx)(n(),{href:"/blog",children:(0,a.jsx)("span",{className:"cursor-pointer",children:"Blog"})}),c?(0,a.jsx)(n(),{href:"/donate_us",children:(0,a.jsx)("span",{className:"cursor-pointer",children:"Donate"})}):(0,a.jsx)(n(),{href:"#",children:(0,a.jsx)("span",{className:"cursor-pointer",onClick:()=>{alert("กรุณาล็อคอินก่อนเข้าสู่หน้าสนับสนุน")},children:"Donate"})}),e?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n(),{href:"/profile",children:(0,a.jsx)("div",{className:"".concat(o," text-white p-2 rounded-md cursor-pointer hover:scale-101 transition-all"),children:e.username})}),(0,a.jsx)(n(),{href:"/",children:(0,a.jsx)("button",{className:"ml-4 bg-red-600 text-white px-4 py-2 rounded-md hover:scale-101",onClick:()=>{localStorage.removeItem("user"),t(null)},children:"Logout"})})]}):(0,a.jsx)(n(),{href:"/logins",children:(0,a.jsx)("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-500",children:"Login"})})]})]})})}},61400:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(95155),r=s(24055),l=s(66766);let n={src:"/_next/static/media/1.3c8869d0.png",height:930,width:1212,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAUVBMVEXIlEK0fCHfjzHdlD+OgjbxuleALwzjr1DCjDrssU7UqFN+hDrFl07drFq3h1iTYTOvgVi5llzXoEGnYyexdUedbi+qbkiSVRLhgyCTdS+wZSb/mhHjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOElEQVR4nBXBCxbAEAwEwEXYhKL/0vsftK8zWBS/DEZeajnCuK2tiIGu36eUALonpSkeddfj9SN8KZwBzBF7izUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:6},c={src:"/_next/static/media/2.02e52be0.png",height:918,width:1206,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAV1BMVEXks0+bayvUqk/fsE7flDC4hSTLnknImUPwu1K+ijXUokSpbyOAfzqthzj9yFnBkz+hXhbWjDW5il2JdTLurUeSizicXA+oii7htF61eS20iWTghhmZXRPdC+m8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOklEQVR4nAXBBQLAIAwEsAMKbZEZMoH/v3MJws6BOT5wm5jirAASvyv3Bvikb80E+GONchOsqkk0zx8z3AIOkDoJswAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6},i={src:"/_next/static/media/3.2595d517.png",height:917,width:1202,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAARVBMVEXGl0DLgiTTpE3crlejaxq9kz75wlfksVDtuVTFjjO6fybTjireoj62kVZ3czLJo2vijh+zhTGrjkC7mHWYbybGm0vRqmKlYl7nAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANElEQVR4nAXBhQHAMAzAMBdCxfH/p07iFRByxtT35zowLfe+ZGBnzLlWx6m1PpEoRGv9SD8qzwGd3K2IZQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6};var o=s(6874),d=s.n(o),A=s(12115),h=s(83540),m=s(93774),u=s(96025),x=s(16238),g=s(94517),j=s(17398);function f(){let[e,t]=(0,A.useState)([]),[s,o]=(0,A.useState)([]),f="https://microfinance-backend-763l.onrender.com";(0,A.useEffect)(()=>{localStorage.getItem("selectedProductId")||localStorage.setItem("selectedProductId",0);let e=async()=>{try{let e=await fetch("".concat(f,"/get_all_donations/")),t=await e.json();o(t.donations)}catch(e){console.error("Error fetching donations:",e)}};(async()=>{try{let e=await fetch("".concat(f,"/get_product_names/")),s=await e.json();console.log(s),t(s.products)}catch(e){console.error("Error fetching product names:",e)}})(),e()},[]);let b=e=>{localStorage.setItem("selectedProductId",e)},p=s.reduce((e,t)=>e+parseFloat(t.amount),0),w=s.reduce((e,t)=>{let s=new Date(t.timestamp),a="".concat(s.getFullYear(),"-").concat((s.getMonth()+1).toString().padStart(2,"0")),r=e.find(e=>e.month===a);return r?r.total+=parseFloat(t.amount):e.push({month:a,total:parseFloat(t.amount)}),e},[]).sort((e,t)=>new Date(e.month)-new Date(t.month));return(0,a.jsxs)("div",{className:"h-auto",children:[(0,a.jsx)(r.default,{}),(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-center",children:"Donate Us"}),(0,a.jsxs)("p",{className:"text-center text-lg mt-4",children:["เพื่อเป็นการสนับสนุนเราและร่วมพัฒนาเนื้อหาที่มีคุณค่า เรามีหลายระดับการสนับสนุนที่คุณสามารถเลือกได้ตามความสะดวก ",(0,a.jsx)("br",{}),"ท่านสามารถเลือกช่องทางการสนับสนุนที่ต้องการได้ที่นี่ เพื่อช่วยให้เราสามารถสร้างสรรค์และพัฒนาสื่อการเรียนรู้ให้ดียิ่งขึ้น!"]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-8 mt-8",children:e.map(e=>(0,a.jsxs)("div",{className:"h-70 bg-gray-100 p-4 rounded-lg hover:shadow-xl hover:scale-105 transition-all duration-300 flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"h-40 flex items-center justify-center",children:(0,a.jsx)(l.default,{src:1===e.id?n:2===e.id?c:3===e.id?i:n,alt:"Volunteer",width:300,height:200,className:"object-cover w-auto h-full rounded-md"})}),(0,a.jsxs)("div",{className:"text-center mt-auto",children:[(0,a.jsx)("h3",{className:"font-semibold text-xl",children:e.product_name}),(0,a.jsx)(d(),{href:"/donate_us/detail",children:(0,a.jsx)("button",{className:"".concat(e.color," text-white px-6 py-2 rounded-md mt-4"),onClick:()=>b(e.id),children:"Donate Now"})})]})]},e.id))}),(0,a.jsxs)("div",{className:"mt-16",children:[(0,a.jsx)("h2",{className:"text-3xl font-semibold text-center mb-6",children:"สรุปยอดการบริจาคทั้งหมด"}),(0,a.jsxs)("p",{className:"text-center text-lg mb-8 text-green-700 font-bold",children:["รวมยอดบริจาคทั้งหมด: ",p.toLocaleString()," ฿"]}),(0,a.jsx)("div",{className:"w-full h-96",children:(0,a.jsx)(h.u,{width:"100%",height:"100%",children:(0,a.jsxs)(m.E,{data:w,children:[(0,a.jsx)(u.W,{dataKey:"month",stroke:"#8884d8"}),(0,a.jsx)(x.h,{}),(0,a.jsx)(g.m,{}),(0,a.jsx)(j.y,{dataKey:"total",fill:"#4ade80",barSize:60})]})})})]})]}),(0,a.jsx)("footer",{className:"text-center p-4 mt-8 text-gray-500 text-sm",children:"\xa9 2025, Microfinance"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,63,80,441,684,358],()=>t(19783)),_N_E=e.O()}]);