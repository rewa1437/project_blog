(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445,570],{24055:(e,r,s)=>{"use strict";s.d(r,{default:()=>c});var n=s(95155),l=s(12115),t=s(6874),a=s.n(t);function c(){let[e,r]=(0,l.useState)(null),[s,t]=(0,l.useState)(!0),[c,i]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{let e=localStorage.getItem("user");if(e){let s=JSON.parse(e);r(s),(async()=>{try{let e=await fetch("".concat("https://microfinance-backend-763l.onrender.com","/get_user/?user_id=").concat(s.user_id)),n=await e.json(),l={...s,...n};r(l),i(!0),t(!1)}catch(e){console.error("Error fetching user info:",e),t(!1)}})()}else t(!1)},[]),s)return(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,n.jsx)("p",{children:"Loading..."})});let o=(null==e?void 0:e.rank)===1?"bg-gray-500":(null==e?void 0:e.rank)===2?"bg-blue-500":(null==e?void 0:e.rank)===3?"bg-green-500":(null==e?void 0:e.rank)===4?"bg-yellow-500":"bg-gray-500";return(0,n.jsx)("nav",{className:"bg-gray-800 text-white p-4 shadow-md",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center space-x-6",children:[(0,n.jsx)("div",{className:"font-bold text-xl",children:"MicroFinance"}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(a(),{href:"/",children:(0,n.jsx)("span",{className:"cursor-pointer",children:"Home"})}),(0,n.jsx)(a(),{href:"/blog",children:(0,n.jsx)("span",{className:"cursor-pointer",children:"Blog"})}),c?(0,n.jsx)(a(),{href:"/donate_us",children:(0,n.jsx)("span",{className:"cursor-pointer",children:"Donate"})}):(0,n.jsx)(a(),{href:"#",children:(0,n.jsx)("span",{className:"cursor-pointer",onClick:()=>{alert("กรุณาล็อคอินก่อนเข้าสู่หน้าสนับสนุน")},children:"Donate"})}),e?(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(a(),{href:"/profile",children:(0,n.jsx)("div",{className:"".concat(o," text-white p-2 rounded-md cursor-pointer hover:scale-101 transition-all"),children:e.username})}),(0,n.jsx)(a(),{href:"/",children:(0,n.jsx)("button",{className:"ml-4 bg-red-600 text-white px-4 py-2 rounded-md hover:scale-101",onClick:()=>{localStorage.removeItem("user"),r(null)},children:"Logout"})})]}):(0,n.jsx)(a(),{href:"/logins",children:(0,n.jsx)("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-500",children:"Login"})})]})]})})}},54119:(e,r,s)=>{Promise.resolve().then(s.bind(s,24055))}},e=>{var r=r=>e(e.s=r);e.O(0,[874,441,684,358],()=>r(54119)),_N_E=e.O()}]);