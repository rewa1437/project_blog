{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/anupappasakornhiran/Desktop/project_blog/app/components/Navbar.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\n\nexport default function Navbar() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [isLogin, setlogin] =  useState(false);\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      const parsedUser = JSON.parse(storedUser);\n      setUser(parsedUser); \n\n      const fetchUserInfo = async () => {\n        try {\n          const userResponse = await fetch(`http://127.0.0.1:8000/get_user/?user_id=${parsedUser.user_id}`);\n          const userInfo = await userResponse.json();\n\n          const completeUserData = { ...parsedUser, ...userInfo };\n          setUser(completeUserData);\n          setlogin(true);\n          setLoading(false);\n        } catch (error) {\n          console.error('Error fetching user info:', error);\n          setLoading(false);\n        }\n      };\n\n      fetchUserInfo();\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setUser(null);\n    window.location.reload();\n  };\n\n  const handleLoginfirst = () => {\n    alert(\"กรุณาล็อคอินก่อนเข้าสู่หน้าสนับสนุน\")\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-gray-100\">\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  const rankClass = user?.rank === 1 ? 'bg-gray-500' :\n                    user?.rank === 2 ? 'bg-blue-500' :\n                    user?.rank === 3 ? 'bg-green-500' :\n                    user?.rank === 4 ? 'bg-yellow-500' :\n                    'bg-gray-500';\n\n  return (\n    <nav className=\"bg-gray-800 text-white p-4 shadow-md\">\n      <div className=\"max-w-7xl mx-auto flex justify-between items-center space-x-6\">\n        <div className=\"font-bold text-xl\">MicroFinance</div>\n\n        <div className=\"flex items-center space-x-4\">\n          <Link href=\"/\">\n            <span className=\"cursor-pointer\">Home</span>\n          </Link>\n\n          <Link href=\"/blog\">\n            <span className=\"cursor-pointer\">Blog</span>\n          </Link>\n          {isLogin ?(\n              <Link href=\"/donate_us\">\n                <span className=\"cursor-pointer\">Donate</span>\n              </Link>\n            ):(\n              <Link href=\"#\">\n                <span className=\"cursor-pointer\" onClick={handleLoginfirst}>Donate</span>\n              </Link>\n            )}\n\n          {user ? (\n            <div className=\"flex items-center\">\n              <Link href=\"/profile\">\n                <div className={`${rankClass} text-white p-2 rounded-md cursor-pointer hover:scale-101 transition-all`}>\n                  {user.username}\n                </div>\n              </Link>\n              <Link href=\"/\">\n                <button\n                  className=\"ml-4 bg-red-600 text-white px-4 py-2 rounded-md hover:scale-101\"\n                  onClick={handleLogout}\n                >\n                  Logout\n                </button>\n              </Link>\n            </div>\n          ) : (\n            <Link href=\"/logins\">\n              <button className=\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-500\">\n                Login\n              </button>\n            </Link>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,SAAS,SAAS,GAAI,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEtC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;4BAAE;YACR,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,IAAI,YAAY;gBACd,MAAM,aAAa,KAAK,KAAK,CAAC;gBAC9B,QAAQ;gBAER,MAAM;sDAAgB;wBACpB,IAAI;4BACF,MAAM,eAAe,MAAM,MAAM,CAAC,wCAAwC,EAAE,WAAW,OAAO,EAAE;4BAChG,MAAM,WAAW,MAAM,aAAa,IAAI;4BAExC,MAAM,mBAAmB;gCAAE,GAAG,UAAU;gCAAE,GAAG,QAAQ;4BAAC;4BACtD,QAAQ;4BACR,SAAS;4BACT,WAAW;wBACb,EAAE,OAAO,OAAO;4BACd,QAAQ,KAAK,CAAC,6BAA6B;4BAC3C,WAAW;wBACb;oBACF;;gBAEA;YACF,OAAO;gBACL,WAAW;YACb;QACF;2BAAG,EAAE;IAEL,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,OAAO,QAAQ,CAAC,MAAM;IACxB;IAEA,MAAM,mBAAmB;QACvB,MAAM;IACR;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,MAAM,YAAY,MAAM,SAAS,IAAI,gBACnB,MAAM,SAAS,IAAI,gBACnB,MAAM,SAAS,IAAI,iBACnB,MAAM,SAAS,IAAI,kBACnB;IAElB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BAAoB;;;;;;8BAEnC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,6LAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;sCAGnC,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,6LAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;wBAElC,wBACG,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,6LAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;iDAGnC,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,6LAAC;gCAAK,WAAU;gCAAiB,SAAS;0CAAkB;;;;;;;;;;;wBAIjE,qBACC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;8CACT,cAAA,6LAAC;wCAAI,WAAW,GAAG,UAAU,wEAAwE,CAAC;kDACnG,KAAK,QAAQ;;;;;;;;;;;8CAGlB,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;8CACT,cAAA,6LAAC;wCACC,WAAU;wCACV,SAAS;kDACV;;;;;;;;;;;;;;;;iDAML,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;sCACT,cAAA,6LAAC;gCAAO,WAAU;0CAAgE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAShG;GA1GwB;KAAA","debugId":null}}]
}